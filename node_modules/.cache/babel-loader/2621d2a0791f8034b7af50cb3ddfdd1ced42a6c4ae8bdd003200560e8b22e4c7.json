{"ast":null,"code":"import{Outlet,useLocation}from\"react-router-dom\";import{Navbar,Footer}from\"./Portal\";import{useState,useEffect,useRef}from\"react\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Layout=()=>{const[loading,setLoading]=useState(false);const[showBackToTop,setShowBackToTop]=useState(false);const location=useLocation();const prevPathname=useRef(location.pathname);useEffect(()=>{if(prevPathname.current!==location.pathname){setLoading(true);prevPathname.current=location.pathname;window.scrollTo(0,0);const loadTimeout=setTimeout(()=>{setLoading(false);},500);return()=>clearTimeout(loadTimeout);}},[location.pathname]);useEffect(()=>{const handleScroll=()=>{if(window.scrollY>90){setShowBackToTop(true);}else{setShowBackToTop(false);}};window.addEventListener(\"scroll\",handleScroll);return()=>window.removeEventListener(\"scroll\",handleScroll);},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"main\",{className:\"relative\",dir:\"rtl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading \".concat(loading?\"loading-enter\":\"loading-exit\"),children:\"\\u062F\\u0631\\u062D\\u0627\\u0644 \\u0628\\u0627\\u0631\\u06AF\\u0632\\u0627\\u0631\\u06CC...\"}),!loading&&/*#__PURE__*/_jsx(Outlet,{})]}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(\"button\",{className:\"fixed bottom-16 z-20 right-10 button-dark rounded title-sm size-12 displayTrans \".concat(showBackToTop?\"visible opacity-100\":\"invisible opacity-0\"),onClick:()=>window.scrollTo(0,0),children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-chevron-up mt-1\"})})]});};export default Layout;","map":{"version":3,"names":["Outlet","useLocation","Navbar","Footer","useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Layout","loading","setLoading","showBackToTop","setShowBackToTop","location","prevPathname","pathname","current","window","scrollTo","loadTimeout","setTimeout","clearTimeout","handleScroll","scrollY","addEventListener","removeEventListener","children","className","dir","concat","onClick"],"sources":["C:/Users/V/Desktop/code-empire/src/comps/Layout.js"],"sourcesContent":["import { Outlet, useLocation } from \"react-router-dom\";\nimport { Navbar, Footer } from \"./Portal\";\nimport { useState, useEffect, useRef } from \"react\";\n\nconst Layout = () => {\n  const [loading, setLoading] = useState(false);\n  const [showBackToTop, setShowBackToTop] = useState(false);\n  const location = useLocation();\n  const prevPathname = useRef(location.pathname);\n\n  useEffect(() => {\n    if (prevPathname.current !== location.pathname) {\n      setLoading(true);\n      prevPathname.current = location.pathname;\n\n      window.scrollTo(0, 0);\n\n      const loadTimeout = setTimeout(() => {\n        setLoading(false);\n      }, 500);\n\n      return () => clearTimeout(loadTimeout);\n    }\n  }, [location.pathname]);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      if (window.scrollY > 90) {\n        setShowBackToTop(true);\n      } else {\n        setShowBackToTop(false);\n      }\n    };\n\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, []);\n\n  return (\n    <>\n      <Navbar />\n      <main className=\"relative\" dir=\"rtl\">\n        <div\n          className={`loading ${loading ? \"loading-enter\" : \"loading-exit\"}`}\n        >\n          درحال بارگزاری...\n        </div>\n        {!loading && <Outlet />}\n      </main>\n      <Footer />\n      <button\n        className={`fixed bottom-16 z-20 right-10 button-dark rounded title-sm size-12 displayTrans ${\n          showBackToTop ? \"visible opacity-100\" : \"invisible opacity-0\"\n        }`}\n        onClick={() => window.scrollTo(0, 0)}\n      >\n        <i className=\"fa-solid fa-chevron-up mt-1\" />\n      </button>\n    </>\n  );\n};\n\nexport default Layout;\n"],"mappings":"AAAA,OAASA,MAAM,CAAEC,WAAW,KAAQ,kBAAkB,CACtD,OAASC,MAAM,CAAEC,MAAM,KAAQ,UAAU,CACzC,OAASC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEpD,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACnB,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACY,aAAa,CAAEC,gBAAgB,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CACzD,KAAM,CAAAc,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAkB,YAAY,CAAGb,MAAM,CAACY,QAAQ,CAACE,QAAQ,CAAC,CAE9Cf,SAAS,CAAC,IAAM,CACd,GAAIc,YAAY,CAACE,OAAO,GAAKH,QAAQ,CAACE,QAAQ,CAAE,CAC9CL,UAAU,CAAC,IAAI,CAAC,CAChBI,YAAY,CAACE,OAAO,CAAGH,QAAQ,CAACE,QAAQ,CAExCE,MAAM,CAACC,QAAQ,CAAC,CAAC,CAAE,CAAC,CAAC,CAErB,KAAM,CAAAC,WAAW,CAAGC,UAAU,CAAC,IAAM,CACnCV,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAE,GAAG,CAAC,CAEP,MAAO,IAAMW,YAAY,CAACF,WAAW,CAAC,CACxC,CACF,CAAC,CAAE,CAACN,QAAQ,CAACE,QAAQ,CAAC,CAAC,CAEvBf,SAAS,CAAC,IAAM,CACd,KAAM,CAAAsB,YAAY,CAAGA,CAAA,GAAM,CACzB,GAAIL,MAAM,CAACM,OAAO,CAAG,EAAE,CAAE,CACvBX,gBAAgB,CAAC,IAAI,CAAC,CACxB,CAAC,IAAM,CACLA,gBAAgB,CAAC,KAAK,CAAC,CACzB,CACF,CAAC,CAEDK,MAAM,CAACO,gBAAgB,CAAC,QAAQ,CAAEF,YAAY,CAAC,CAC/C,MAAO,IAAML,MAAM,CAACQ,mBAAmB,CAAC,QAAQ,CAAEH,YAAY,CAAC,CACjE,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEjB,KAAA,CAAAE,SAAA,EAAAmB,QAAA,eACEvB,IAAA,CAACN,MAAM,GAAE,CAAC,cACVQ,KAAA,SAAMsB,SAAS,CAAC,UAAU,CAACC,GAAG,CAAC,KAAK,CAAAF,QAAA,eAClCvB,IAAA,QACEwB,SAAS,YAAAE,MAAA,CAAapB,OAAO,CAAG,eAAe,CAAG,cAAc,CAAG,CAAAiB,QAAA,CACpE,oFAED,CAAK,CAAC,CACL,CAACjB,OAAO,eAAIN,IAAA,CAACR,MAAM,GAAE,CAAC,EACnB,CAAC,cACPQ,IAAA,CAACL,MAAM,GAAE,CAAC,cACVK,IAAA,WACEwB,SAAS,oFAAAE,MAAA,CACPlB,aAAa,CAAG,qBAAqB,CAAG,qBAAqB,CAC5D,CACHmB,OAAO,CAAEA,CAAA,GAAMb,MAAM,CAACC,QAAQ,CAAC,CAAC,CAAE,CAAC,CAAE,CAAAQ,QAAA,cAErCvB,IAAA,MAAGwB,SAAS,CAAC,6BAA6B,CAAE,CAAC,CACvC,CAAC,EACT,CAAC,CAEP,CAAC,CAED,cAAe,CAAAnB,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}